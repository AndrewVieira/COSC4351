(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{101:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(16),c=n.n(o),l=(n(75),n(76),n(17)),i=n(18),s=n(20),u=n(19),m=n(6),p=n(12),h=n(56),d=n(57),f=n(44),E=n(28),g=n(29),b=n(35),v=n(33),O=n.n(v),k=function(e){return{type:"AUTH_SUCCESS",token:e}},j=function(e){return{type:"AUTH_FAIL",error:e}},w=function(){return localStorage.removeItem("user"),localStorage.removeItem("expirationDate"),{type:"AUTH_LOGOUT"}},y=function(e){return function(t){setTimeout((function(){t(w())}),1e3*e)}},S=function(){return function(e){var t=localStorage.getItem("token");if(void 0===t)e(w());else{var n=new Date(localStorage.getItem("expirationDate"));n<=new Date?e(w()):(e(k(t)),e(y((n.getTime()-(new Date).getTime())/1e3)))}}},x=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(f.a)({},t,n))},a.onSubmit=function(e){e.preventDefault(),""===a.state.username?a.setState({errorShow:!0,errorTitle:"Username Error",errorBody:"Please enter your username!"}):""===a.state.password?a.setState({errorShow:!0,errorTitle:"Password Error",errorBody:"Please enter your password!"}):(a.props.onAuth(a.state.username,a.state.password),null!==a.props.error&&console.log(a.props.error))},a.handleErrorClose=function(){a.setState({errorShow:!1})},a.handleErrorShow=function(){a.setState({errorShow:!0})},a.state={username:"",password:"",errorShow:!1,errorTitle:"Generic Error",errorBody:"This is a generic error!"},a}return Object(i.a)(n,[{key:"render",value:function(){return this.props.token&&this.props.history.push("/portal"),r.a.createElement("div",{className:"login center"},r.a.createElement("div",{className:"container center_div w-50 align-items-center focus"},r.a.createElement("h1",null,"Login Page"),r.a.createElement(E.a,null,r.a.createElement(E.a.Group,{controlId:"formUsername"},r.a.createElement(E.a.Label,null,"Username"),r.a.createElement(E.a.Control,{name:"username",type:"username",placeholder:"Enter username",value:this.state.username,onChange:this.onChange})),r.a.createElement(E.a.Group,{controlId:"formUsername"},r.a.createElement(E.a.Label,null,"Password"),r.a.createElement(E.a.Control,{name:"password",type:"password",placeholder:"Enter password",value:this.state.password,onChange:this.onChange})),r.a.createElement(g.a,{variant:"primary",type:"submit",onClick:this.onSubmit},"Login"))),r.a.createElement(b.a,{show:this.state.errorShow,onHide:this.handleErrorClose,backdrop:"static",keyboard:!1,centered:!0},r.a.createElement(b.a.Header,{closeButton:!0},r.a.createElement(b.a.Title,null,this.state.errorTitle)),r.a.createElement(b.a.Body,null,r.a.createElement("p",null,this.state.errorBody)),r.a.createElement(b.a.Footer,null,r.a.createElement(g.a,{variant:"secondary",onClick:this.handleErrorClose},"Close"))))}}]),n}(r.a.Component),_=Object(p.b)((function(e){return{token:e.token,loading:e.loading,error:e.error}}),(function(e){return{onAuth:function(t,n){return e(function(e,t){return function(n){n({type:"AUTH_START"}),O.a.post("http://localhost:8080/rest-auth/login/",{username:e,password:t}).then((function(e){var t=e.data.key,a=new Date((new Date).getTime()+36e5);localStorage.setItem("token",t),localStorage.setItem("expirationDate",a),n(k(t)),n(y(3600))})).catch((function(e){n(j(e)),window.alert(e.response.data.non_field_errors[0])}))}}(t,n))}}}))(x),T=n(22),A=n.n(T),C=n(31),D=n(39),I=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement(D.a,{style:{margin:"1rem"},bg:"light",text:"black"},r.a.createElement("div",{class:"shadow"},r.a.createElement("a",{href:this.props.link},r.a.createElement(D.a.Body,null,r.a.createElement(D.a.Title,null,this.props.name),r.a.createElement(D.a.Text,null,this.props.link)))))}}]),n}(r.a.Component),U=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).componentDidMount=Object(C.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.isLoggedIn();case 2:a.props.token?(O.a.defaults.headers={"Content-Type":"application/json",Authorization:"Token ".concat(a.props.token)},O.a.get("http://localhost:8080/portal/api/links").then((function(e){var t=e.data;console.log(e.data),a.setState({links:t})})).catch((function(e){window.alert(e)}))):a.props.history.push("/");case 3:case"end":return e.stop()}}),e)}))),a.state={links:[]},a}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"portal center"},r.a.createElement("div",{className:"container center_div w-50 focus"},r.a.createElement("h1",null,"Portal Page"),r.a.createElement("div",{class:"adminlinks"},this.state.links.map((function(e,t){return r.a.createElement(I,{key:t,name:e.name,link:e.url})})))))}}]),n}(r.a.Component),B=Object(p.b)((function(e){return{token:e.token}}),(function(e){return{isLoggedIn:function(){return e(S())}}}))(U),L=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).componentDidMount=Object(C.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.isLoggedIn();case 2:a.props.token||a.props.history.push("/");case 3:case"end":return e.stop()}}),e)}))),a.onBack=function(e){a.props.history.push("/portal")},a}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"placeholder center"},r.a.createElement("div",{className:"container center_div w-50 focus text-center"},r.a.createElement("h1",null,this.props.title),r.a.createElement(g.a,{className:"w-50",alignItems:"center",type:"submit",variant:"primary",onClick:this.onBack},"Return to Portal")))}}]),n}(r.a.Component),N=Object(p.b)((function(e){return{token:e.token}}),(function(e){return{isLoggedIn:function(){return e(S())}}}))(L);var H=Object(p.b)((function(e){return{token:e.token}}),(function(e){return{logout:function(){return e(w())}}}))((function(e){var t=e.token,n=e.logout,a=Object(m.e)();return t?r.a.createElement(g.a,{type:"submit",variant:"light",onClick:function(){n(),a.push("/")}},"Log Out"):null})),P=function(e){return e.children},R=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).Main=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(d.a,{bg:"primary",variant:"dark"},r.a.createElement(d.a.Brand,{href:"/"},"Admin Portal"),r.a.createElement(h.a,{className:"ml-auto"}),r.a.createElement(h.a,{className:"ml-auto"},r.a.createElement(H,{className:"mr-auto"}))),r.a.createElement(P,null,r.a.createElement(m.a,{exact:!0,path:"/",component:_}),r.a.createElement(m.a,{exact:!0,path:"/portal",component:B}),r.a.createElement(m.a,{exact:!0,path:"/help_desk",render:function(e){return r.a.createElement(N,Object.assign({},e,{title:"Help Desk"}))}}),r.a.createElement(m.a,{exact:!0,path:"/finance_reports",render:function(e){return r.a.createElement(N,Object.assign({},e,{title:"Finance Reports"}))}}),r.a.createElement(m.a,{exact:!0,path:"/accounts_payable",render:function(e){return r.a.createElement(N,Object.assign({},e,{title:"Accounts Payable"}))}}),r.a.createElement(m.a,{exact:!0,path:"/accounts_recievable",render:function(e){return r.a.createElement(N,Object.assign({},e,{title:"Accounts Recievable"}))}}),r.a.createElement(m.a,{exact:!0,path:"/tax",render:function(e){return r.a.createElement(N,Object.assign({},e,{title:"Tax"}))}}),r.a.createElement(m.a,{exact:!0,path:"/sales_reports",render:function(e){return r.a.createElement(N,Object.assign({},e,{title:"Sales Reports"}))}}),r.a.createElement(m.a,{exact:!0,path:"/sales_leads",render:function(e){return r.a.createElement(N,Object.assign({},e,{title:"Sales Leads"}))}}),r.a.createElement(m.a,{exact:!0,path:"/sales_demo",render:function(e){return r.a.createElement(N,Object.assign({},e,{title:"Sales Demo"}))}}),r.a.createElement(m.a,{exact:!0,path:"/new_hire",render:function(e){return r.a.createElement(N,Object.assign({},e,{title:"New Hire On-Boarding"}))}}),r.a.createElement(m.a,{exact:!0,path:"/benefits",render:function(e){return r.a.createElement(N,Object.assign({},e,{title:"Benefits"}))}}),r.a.createElement(m.a,{exact:!0,path:"/payroll",render:function(e){return r.a.createElement(N,Object.assign({},e,{title:"Payroll"}))}}),r.a.createElement(m.a,{exact:!0,path:"/off_boarding",render:function(e){return r.a.createElement(N,Object.assign({},e,{title:"Off-Boarding"}))}}),r.a.createElement(m.a,{exact:!0,path:"/hr_reports",render:function(e){return r.a.createElement(N,Object.assign({},e,{title:"HR Reports"}))}}),r.a.createElement(m.a,{exact:!0,path:"/application_monitoring",render:function(e){return r.a.createElement(N,Object.assign({},e,{title:"Application Monitoring"}))}}),r.a.createElement(m.a,{exact:!0,path:"/tech_support",render:function(e){return r.a.createElement(N,Object.assign({},e,{title:"Tech Support"}))}}),r.a.createElement(m.a,{exact:!0,path:"/app_development",render:function(e){return r.a.createElement(N,Object.assign({},e,{title:"App Development"}))}}),r.a.createElement(m.a,{exact:!0,path:"/app_admin",render:function(e){return r.a.createElement(N,Object.assign({},e,{title:"App Admin"}))}}),r.a.createElement(m.a,{exact:!0,path:"/release_management",render:function(e){return r.a.createElement(N,Object.assign({},e,{title:"Release Management"}))}})))},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.onTryAutoSignup()}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(this.Main,this.props))}}]),n}(r.a.Component),M=Object(p.b)((function(e){return{isAuthenticated:null!==e.token}}),(function(e){return{onTryAutoSignup:function(){return e(S())}}}))(R);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=n(43),F=n(32),J=n(69),W=n(55),X=function(e,t){return Object(W.a)(Object(W.a)({},e),t)},z={token:null,error:null,loading:!1},V=function(e,t){return X(e,{error:null,loading:!0})},$=function(e,t){return X(e,{token:t.token,error:null,loading:!1})},q=function(){var e=Object(C.a)(A.a.mark((function e(t,n){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(t,{error:n.error,loading:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),K=function(e,t){return X(e,{token:null})},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return V(e);case"AUTH_SUCCESS":return $(e,t);case"AUTH_FAIL":return q(e,t);case"AUTH_LOGOUT":return K(e);default:return e}},Y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||F.c,Z=Object(F.d)(Q,Y(Object(F.a)(J.a)));c.a.render(r.a.createElement(p.a,{store:Z},r.a.createElement(G.a,null,r.a.createElement(M,null)),","),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},70:function(e,t,n){e.exports=n(101)},75:function(e,t,n){}},[[70,1,2]]]);
//# sourceMappingURL=main.5cd8fb87.chunk.js.map